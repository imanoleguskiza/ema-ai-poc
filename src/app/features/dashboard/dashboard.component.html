<section class="content-area" id="datatables">
  <div class="grid-container--fluid top-gutter bottom-gutter">
    <div class="grid--md gutter--lg bottom-gutter">
      <div class="column--12 column--lg-3">
        <div class="highcharts-panel">
          <div class="hc-count"><span class="h1 main-heading hc-heading">
              <app-mentions-counter-banner></app-mentions-counter-banner>
            </span>
            <span class="hc-sub-heading">Total mentions</span>
          </div>
        </div>
      </div>
      <div class="column--12 column--lg-9">
        <div class="highcharts-panel">
         <app-mentions-timeline-weekly/>
        </div>
      </div>
      <div class="column--12 column--lg-6">
        <div class="highcharts-panel">
          <app-processed-gauge />
        </div>
      </div>
      <div class="column--12 column--lg-6">
        <div class="highcharts-panel">
          <app-resolved-gauge />
        </div>
      </div>
      <div class="column--12 column--lg-6">
        <div class="highcharts-panel">
          <app-media-type-gauge />
        </div>
      </div>
      <div class="column--12 column--lg-6">
        <div class="highcharts-panel">
          <app-classification-gauge />
        </div>
      </div>
    </div>
    <div class="grid--md gutter--lg">
      <div class="column--xs-12 column--xl-12 mb-3 top-gutter">
        <div class="row">
          <div class="col-md-3">
            <label>Search title:</label>
            <input type="text" class="form-control" placeholder="Type to search…" [(ngModel)]="filters.title"
              (ngModelChange)="onTitleChange($event)" />
          </div>
          <div class="col-md-3">
            <label>Media Type:</label>
            <select class="form-control" [(ngModel)]="filters.mediaType" (change)="applyFilters()">
              <option value="">All</option>
              <option *ngFor="let type of mediaTypes" [value]="type">{{ type }}</option>
            </select>
          </div>
          <div class="col-md-3">
            <label>Classification:</label>
            <select class="form-control" [(ngModel)]="filters.classification" (change)="applyFilters()">
              <option value="">All</option>
              <option *ngFor="let classif of classifications" [value]="classif">{{ classif }}</option>
            </select>
          </div>
          <div class="col-md-3">
            <label>Processed:</label>
            <select class="form-control" [(ngModel)]="filters.processed" (change)="applyFilters()">
              <option value="">All</option>
              <option [value]="true">Yes</option>
              <option [value]="false">No</option>
            </select>
          </div>
        </div>
      </div>
      <div class="column--xs-12 column--xl-12">
        <div class="table-responsive" style="max-height: 600px">
          <table class="table table-striped table-sticky--head table-sticky--start table-sticky--end">
            <thead>
              <tr role="row">
                <th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('id')">ID <span
                    *ngIf="sortColumn === 'id'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
                <!--th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Title')">Title <span
                    *ngIf="sortColumn === 'Title'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th-->
                <th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Content</th>
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  External link</th-->
                <!--th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Source')">Source <span
                    *ngIf="sortColumn === 'Source'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th-->
                <!--th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Update date')">Update date
                  <span *ngIf="sortColumn === 'Update date'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
                </th-->
                <th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Publish date')">Publish date
                  <span *ngIf="sortColumn === 'Publish date'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span>
                </th>
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Ranking</th-->
                <th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Media type')">Media type
                  <span *ngIf="sortColumn === 'Media type'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
                <th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Tags</th>
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Country</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Language</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Audience</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Reach</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Interactions</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Notes</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Author name</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Author handle (&#64;username)</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Author URL</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Gender</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Age</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Bio</th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  City</th-->
                <!--th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Sentiment')">Sentiment <span
                    *ngIf="sortColumn === 'Sentiment'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th-->
                <th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Classification')">
                  Classification <span *ngIf="sortColumn === 'Classification'">{{ sortDirection === 'asc' ? '▲' : '▼'
                    }}</span></th>
                <!--th class="sorting" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending" (click)="sortBy('Processed')">Processed <span
                    *ngIf="sortColumn === 'Processed'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th-->
                <!--th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Justification</th-->
                <th class="" tabindex="0" aria-controls="example-datatable" rowspan="1" colspan="1"
                  aria-label="Content: activate to sort column ascending">
                  Link</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="isLoading">
                <td colspan="24">
                  <i class="fa fa-spinner fa-spin"></i> Loading data…
                </td>
              </tr>
              <tr *ngFor="let mention of mentions; trackBy: trackById"
                [ngClass]="{ 'bg-success-light': mention.Processed == true }">
                <td><span *ngIf="mention.Processed == true" aria-hidden="true"
                    class="fa fa-check-circle text-success"></span> {{ mention.id }}</td>
                <!--td class="td-big">
                  <p>{{ mention.Title }}</p>
                </td-->
                <td class="td-medium">
                  <p>{{ mention.Detail }}</p>
                </td>
                <!--td class="td-medium">
                  <p>{{ mention.Link }}</p>
                </td-->
                <!--td class="td-small">
                  <p>{{ mention.Source }}</p>
                </td-->
                <!--td>{{ mention['Update date'] }}</td-->
                <td>{{ mention['Publish date'] }}</td>
                <!--td>{{ mention.Ranking }}</td-->
                <td>{{ mention['Media type'] }}</td>
                <td class="td-medium">
                  <p>{{ mention.Tags }}</p>
                </td>
                <!--td>{{ mention.Country }}</td-->
                <!--td>{{ mention.Language }}</td-->
                <!--td>{{ mention.Audience }}</td-->
                <!--td>{{ mention.Reach }}</td-->
                <!--td>{{ mention.Interactions }}</td-->
                <!--td>{{ mention.Notes }}</td-->
                <!--td class="td-small">
                  <p>{{ mention['Author name'] }}</p>
                </td-->
                <!--td class="td-small">
                  <p>{{ mention['Author handle (@username)'] }}</p>
                </td-->
                <!--td class="td-small">
                  <p>{{ mention['Author URL'] }}</p>
                </td-->
                <!--td>{{ mention.Gender }}</td-->
                <!--td>{{ mention.Age }}</td-->
                <!--td class="td-medium">
                  <p>{{ mention.Bio }}</p>
                </td-->
                <!--td>{{ mention.City }}</td-->
                <!--td>{{ mention.Sentiment }}</td-->
                <td>{{ mention.Classification }}</td>
                <!--td>{{ mention.Processed }}</td-->
                <!--td class="td-big">
                  <p>{{ mention.Justification }}</p>
                </td-->
                <td><button class="btn btn-info btn-sm btn-block"
                    [routerLink]="['/full-content', mention.id]"><span>Review</span><span class="fa fa-angle-right"
                      aria-hidden="true"></span></button></td>
              </tr>
              <tr *ngIf="!isLoading && mentions.length === 0">
                <td colspan="24">There are no items.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <nav aria-label="Page navigation">
          <ul class="pagination pull-right">
            <li class="pagination-extra">{{ startItem }}-{{ endItem }} of {{ totalRows }}</li>
            <li [class.disabled]="currentPage === 1 || isLoading">
              <a (click)="previousPage()">
                <span aria-label="Previous" class="fa fa-angle-left"></span>
              </a>
            </li>
            <li class="hidden-xs" *ngFor="let page of totalPagesArray" [class.active]="page === currentPage"
              [class.disabled]="isLoading">
              <a (click)="goToPage(page)">{{ page }}</a>
            </li>
            <li [class.disabled]="currentPage === totalPages || isLoading">
              <a (click)="nextPage()">
                <span aria-label="Next" class="fa fa-angle-right"></span>
              </a>
            </li>
          </ul>
        </nav>

        <div id="mentionModal" class="modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <form (ngSubmit)="createMention()" #mentionForm="ngForm">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title">New Mention</h4>
                </div>

                <div class="modal-body">
                  <div class="">
                    <div class="grid grid-container--lg gutter--md-xl gutter-row--md top-gutter bottom-gutter">

                      <fieldset class="column--xs-12 column--xl-12">
                        <legend>Content</legend>

                        <div class="form-group">
                          <label for="Title">Title</label>
                          <input type="text" class="form-control" id="Title" name="Title" [(ngModel)]="newMention.Title"
                            required />
                        </div>

                        <div class="form-group">
                          <label for="Detail">Detail</label>
                          <textarea class="form-control" id="Detail" name="Detail" rows="3"
                            [(ngModel)]="newMention.Detail"></textarea>
                        </div>

                        <div class="form-group">
                          <label for="Source">Source</label>
                          <input type="text" class="form-control" id="Source" name="Source"
                            [(ngModel)]="newMention.Source" />
                        </div>

                        <div class="form-group">
                          <label for="Link">Link</label>
                          <input type="url" class="form-control" id="Link" name="Link" [(ngModel)]="newMention.Link" />
                        </div>
                      </fieldset>

                      <fieldset class="column--xs-12 column--xl-6">
                        <legend>Metadata</legend>

                        <div class="form-group">
                          <label for="UpdateDate">Update Date</label>
                          <input type="text" class="form-control" id="UpdateDate" name="UpdateDate"
                            [(ngModel)]="newMention['Update date']" />
                        </div>

                        <div class="form-group">
                          <label for="PublishDate">Publish Date</label>
                          <input type="text" class="form-control" id="PublishDate" name="PublishDate"
                            [(ngModel)]="newMention['Publish date']" />
                        </div>

                        <div class="form-group">
                          <label for="Sentiment">Sentiment</label>
                          <input type="text" class="form-control" id="Sentiment" name="Sentiment"
                            [(ngModel)]="newMention.Sentiment" />
                        </div>

                        <div class="form-group">
                          <label for="Ranking">Ranking</label>
                          <input type="number" class="form-control" id="Ranking" name="Ranking"
                            [(ngModel)]="newMention.Ranking" />
                        </div>

                        <div class="form-group">
                          <label for="MediaType">Media Type</label>
                          <input type="text" class="form-control" id="MediaType" name="MediaType"
                            [(ngModel)]="newMention['Media type']" />
                        </div>

                        <div class="form-group">
                          <label for="Tags">Tags</label>
                          <input type="text" class="form-control" id="Tags" name="Tags" [(ngModel)]="newMention.Tags" />
                        </div>

                        <div class="form-group">
                          <label for="Country">Country</label>
                          <input type="text" class="form-control" id="Country" name="Country"
                            [(ngModel)]="newMention.Country" />
                        </div>

                        <div class="form-group">
                          <label for="Language">Language</label>
                          <input type="text" class="form-control" id="Language" name="Language"
                            [(ngModel)]="newMention.Language" />
                        </div>

                        <div class="form-group">
                          <label for="Audience">Audience</label>
                          <input type="text" class="form-control" id="Audience" name="Audience"
                            [(ngModel)]="newMention.Audience" />
                        </div>

                        <div class="form-group">
                          <label for="Reach">Reach</label>
                          <input type="number" class="form-control" id="Reach" name="Reach"
                            [(ngModel)]="newMention.Reach" />
                        </div>

                        <div class="form-group">
                          <label for="Interactions">Interactions</label>
                          <input type="text" class="form-control" id="Interactions" name="Interactions"
                            [(ngModel)]="newMention.Interactions" />
                        </div>

                        <div class="form-group">
                          <label for="Notes">Notes</label>
                          <textarea class="form-control" id="Notes" name="Notes" rows="2"
                            [(ngModel)]="newMention.Notes"></textarea>
                        </div>
                      </fieldset>

                      <fieldset class="column--xs-12 column--xl-6">
                        <legend>Author</legend>

                        <div class="form-group">
                          <label for="AuthorName">Author Name</label>
                          <input type="text" class="form-control" id="AuthorName" name="AuthorName"
                            [(ngModel)]="newMention['Author name']" />
                        </div>

                        <div class="form-group">
                          <label for="AuthorHandle">Author Handle (&#64;username)</label>
                          <input type="text" class="form-control" id="AuthorHandle" name="AuthorHandle"
                            [(ngModel)]="newMention['Author handle (@username)']" />
                        </div>

                        <div class="form-group">
                          <label for="AuthorURL">Author URL</label>
                          <input type="url" class="form-control" id="AuthorURL" name="AuthorURL"
                            [(ngModel)]="newMention['Author URL']" />
                        </div>

                        <div class="form-group">
                          <label for="Gender">Gender</label>
                          <input type="text" class="form-control" id="Gender" name="Gender"
                            [(ngModel)]="newMention.Gender" />
                        </div>

                        <div class="form-group">
                          <label for="Age">Age</label>
                          <input type="text" class="form-control" id="Age" name="Age" [(ngModel)]="newMention.Age" />
                        </div>

                        <div class="form-group">
                          <label for="Bio">Bio</label>
                          <textarea class="form-control" id="Bio" name="Bio" rows="2"
                            [(ngModel)]="newMention.Bio"></textarea>
                        </div>

                        <div class="form-group">
                          <label for="City">City</label>
                          <input type="text" class="form-control" id="City" name="City" [(ngModel)]="newMention.City" />
                        </div>

                      </fieldset>

                    </div>
                  </div>

                </div>

                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary">Create</button>
                </div>
              </form>
            </div>
          </div>
        </div>

      </div>
      <div class="column--xs-12 column--xl-12 text-right">
        <div class="top-gutter bottom-gutter">
          <button type="button" class="btn btn-primary bottom-gutter" (click)="openModal()">
            <span class="fa fa-plus" aria-hidden="true"></span>
            <span>New Mention</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>